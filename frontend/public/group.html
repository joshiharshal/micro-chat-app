<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VartaChat - Group Chats</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<style>
:root {
    --primary-color: #6366f1;
    --secondary-color: #8b5cf6;
    --bg-color: #f8fafc;
    --chat-bg: #ffffff;
    --message-sent: #4f46e5;
    --message-received: #e2e8f0;
    --text-primary: #1e293b;
    --text-secondary: #64748b;
    --border-color: #e2e8f0;
    --shadow: 0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);
}
[data-theme="dark"] {
    --bg-color: #0f0f23;
    --chat-bg: #1a1a2e;
    --message-received: #1e293b;
    --text-primary: #f8fafc;
    --text-secondary: #94a3b8;
    --border-color: #334155;
}
body {
    background: var(--bg-color);
    color: var(--text-primary);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    line-height: 1.6;
    overflow: hidden;
}
.navbar { background: var(--primary-color); padding:1rem 0; box-shadow: var(--shadow); position: sticky; top:0; z-index:1000; }
.navbar-brand { font-size:1.5rem; font-weight:bold; color:white !important; }
.nav-link { color: rgba(255,255,255,0.9) !important; margin:0 0.5rem; transition: color 0.2s; }
.nav-link:hover, .nav-link.active { color:white !important; }
.user-nav { display:flex; align-items:center; gap:1rem; }
.user-avatar-nav { width:35px; height:35px; border-radius:50%; background:rgba(255,255,255,0.2); display:flex; align-items:center; justify-content:center; color:white; font-weight:bold; }

.main-container { max-width:1200px; margin:0 auto; padding:0 1rem; display:flex; flex-direction:column; height:calc(100vh - 80px);}
.main-content { flex:1; background: var(--chat-bg); border:1px solid var(--border-color); border-radius:0.75rem; overflow:hidden; box-shadow:var(--shadow); display:flex; flex-direction:column;}
.chat-header { background: var(--primary-color); color:white; padding:1rem; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:1rem; }
.chat-title-section { display:flex; align-items:center; gap:1rem; flex:1; }
.chat-avatar { width:40px; height:40px; border-radius:50%; background: rgba(255,255,255,0.2); display:flex; align-items:center; justify-content:center; color:white; font-weight:bold; }
.chat-title { font-size:1.25rem; margin:0; }
.chat-subtitle { font-size:0.875rem; opacity:0.9; margin:0; }
.group-selector { background: rgba(255,255,255,0.2); border:none; color:white; padding:0.5rem; border-radius:0.5rem; min-width:150px; }
.chat-actions { display:flex; gap:0.5rem; }
.btn-chat { background: rgba(255,255,255,0.2); border:none; color:white; padding:0.5rem; border-radius:0.5rem; cursor:pointer; width:40px; height:40px; display:flex; align-items:center; justify-content:center; transition:background 0.2s;}
.btn-chat:hover { background: rgba(255,255,255,0.3);}
.messages-container { flex:1; overflow-y:auto; padding:1.5rem; background:linear-gradient(to bottom,var(--chat-bg),#f1f5f9);}
.no-messages { display:flex; justify-content:center; align-items:center; height:100%; color:var(--text-secondary); font-style:italic; }
.message { display:flex; margin-bottom:1rem; animation:fadeIn 0.3s ease-in; }
@keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
.message.sent { justify-content:flex-end;}
.message-bubble { max-width:70%; padding:0.75rem 1rem; border-radius:1rem; position:relative;}
.message.sent .message-bubble { background:var(--message-sent); color:white; border-bottom-right-radius:0.25rem;}
.message.received .message-bubble { background:var(--message-received); color:var(--text-primary); border-bottom-left-radius:0.25rem;}
.message-sender { font-weight:bold; margin-bottom:0.25rem; font-size:0.9rem;}
.message-time { font-size:0.75rem; color:var(--text-secondary); margin-top:0.25rem; text-align:right; }
.input-area { padding:1rem; border-top:1px solid var(--border-color); background:var(--chat-bg); display:flex; gap:1rem; align-items:flex-end; }
.message-input { flex:1; padding:0.75rem 1rem; border:1px solid var(--border-color); border-radius:2rem; background:var(--bg-color); color:var(--text-primary); resize:none; min-height:50px; max-height:150px;}
.send-btn { width:50px; height:50px; border:none; border-radius:50%; background:var(--primary-color); color:white; cursor:pointer; display:flex; align-items:center; justify-content:center; transition:background 0.2s;}
.send-btn:hover:not(:disabled) { background:var(--secondary-color);}
.send-btn:disabled { background:var(--text-secondary); cursor:not-allowed;}

.footer { background: var(--chat-bg); border-top:1px solid var(--border-color); padding:1rem 0; text-align:center; color:var(--text-secondary);}
.footer a { color: var(--primary-color); text-decoration:none;}

@media (max-width:768px){ .main-container{padding:0 0.5rem;height:calc(100vh-100px);} .chat-header{padding:0.75rem; flex-direction:column; align-items:flex-start;} .messages-container{padding:1rem;} .input-area{padding:0.75rem;} }

.theme-toggle { background:none; border:none; color:white; font-size:1.2rem; cursor:pointer; }
.loading { display:inline-block; width:20px; height:20px; border:3px solid rgba(255,255,255,.3); border-radius:50%; border-top-color:#fff; animation:spin 1s ease-in-out infinite; }
@keyframes spin { to{ transform:rotate(360deg);} }
</style>
</head>
<body data-theme="light">

<nav class="navbar navbar-expand-lg">
<div class="container">
<a class="navbar-brand" href="#"><i class="fas fa-comments"></i>Varta</a>
<ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="home.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="chat.html">Chat</a></li>
<li class="nav-item"><a class="nav-link active" href="group.html">Groups</a></li>
<li class="nav-item"><a class="nav-link" href="profile.html">Profile</a></li>
<li class="nav-item"><a class="nav-link" href="#">Analytics</a></li>


</ul>
<ul class="navbar-nav user-nav">
<ul class="navbar-nav user-nav">
<li class="nav-item dropdown">
<a class="nav-link" href="#" role="button" data-bs-toggle="dropdown" id="userDropdown">
<div class="user-avatar-nav" id="userAvatar">G</div> <span id="userName">Guest</span>
</a>
<ul class="dropdown-menu">
<li><a class="dropdown-item" href="#settings">Settings</a></li>
<li><a class="dropdown-item" href="login.html" onclick="login()">login</a></li>
<li><a class="dropdown-item" href="#" onclick="logout()">Logout</a></li>
</ul>
</li>
<li class="nav-item"><button class="theme-toggle" onclick="toggleTheme()" title="Toggle Theme"><i class="fas fa-moon"></i></button></li>
</ul>
</div>
</div>
</nav>

<div class="main-container">
<main class="main-content">
<header class="chat-header">
<div class="chat-title-section">
<div class="chat-avatar" id="groupAvatar">G</div>
<div>
<h2 class="chat-title" id="groupTitle">General Group</h2>
<p class="chat-subtitle" id="groupStatus">5 members • Active</p>
</div>
<select class="group-selector" id="groupSelector" onchange="switchGroup(this.value)">
<option value="">Select Group</option>
<option value="General">General</option>
<option value="Team">Team</option>
<option value="Random">Random</option>
</select>
</div>
<div class="chat-actions">
<button class="btn-chat" onclick="createGroup()" title="New Group"><i class="fas fa-plus"></i></button>
<button class="btn-chat" onclick="viewMembers()" title="Members"><i class="fas fa-users"></i></button>
<button class="btn-chat" onclick="leaveGroup()" title="Leave"><i class="fas fa-sign-out-alt"></i></button>
</div>
</header>

<div class="messages-container" id="messagesContainer">
<div class="no-messages">Select a group to chat...</div>
</div>
<div class="input-area">
<textarea class="message-input" id="messageInput" placeholder="Type your group message..." oninput="toggleSendBtn()"></textarea>
<button class="send-btn" id="sendBtn" onclick="sendGroupMessage()" disabled><i class="fas fa-paper-plane"></i></button>
</div>
</main>
</div>

<footer class="footer">
<div class="container">
<p>&copy; 2025 Varta • <a href="#">Back to Dashboard</a></p>
</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
let currentUser = { username: 'Guest' };
let currentGroup = 'General';

function toggleSendBtn() {
    const input = document.getElementById('messageInput');
    const btn = document.getElementById('sendBtn');
    btn.disabled = !input.value.trim();
}

function sendGroupMessage() {
    const input = document.getElementById('messageInput');
    const text = input.value.trim();
    if(!text) return;
    addMessage(currentUser.username, text, 'sent');
    input.value = '';
    toggleSendBtn();
    // simulate reply
    setTimeout(() => addMessage('Alice', 'Reply: '+text, 'received'), 1000);
}

function addMessage(sender, text, type){
    const container = document.getElementById('messagesContainer');
    if(container.querySelector('.no-messages')) container.innerHTML='';
    const msgDiv = document.createElement('div');
    msgDiv.className = 'message '+type;
    msgDiv.innerHTML = `<div class="message-bubble">
        <div class="message-sender">${sender}</div>
        <div>${text}</div>
        <div class="message-time">${new Date().toLocaleTimeString()}</div>
    </div>`;
    container.appendChild(msgDiv);
    container.scrollTop = container.scrollHeight;
}

function switchGroup(group){
    if(!group) return;
    currentGroup = group;
    document.getElementById('groupTitle').textContent = group;
    document.getElementById('messagesContainer').innerHTML = '<div class="no-messages">Start chatting in '+group+'...</div>';
}

function toggleTheme(){
    const body = document.body;
    body.dataset.theme = body.dataset.theme==='dark'?'light':'dark';
}

function createGroup(){ alert('Feature demo only: create group.'); }
function viewMembers(){ alert('Feature demo only: view members.'); }
function leaveGroup(){ alert('Feature demo only: leave group.'); }

addMessage('Alice','Welcome to General group!','received');
addMessage('Bob','Hi everyone!','received');
</script>
</body>
</html>
